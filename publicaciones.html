<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">

    <link rel="icon" type="image/png" sizes="192x192" href="img/logoLinux.png">
    <title>Portafolio Digital</title>
    <link rel="stylesheet" href="css/publicaciones.css">
    <link rel="stylesheet" href="css/loader.css">

    <!-- CDN Boostrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</head>

<body>

    <!-- START Loader -->
    <div class="container--loader">
        <div class="loader"></div>
    </div>
    <!-- END Loader -->

    <!--Cursor Rojo-->
    <div class="cursor3"></div>
    <script>
        const cursor3 = document.querySelector('.cursor3');

        document.addEventListener('mousemove', e => {
            cursor3.setAttribute("style", "top: " + (e.pageY - 1) + "px; left: " + (e.pageX - 2) + "px;")
        })
    </script>

    <!--Cursor Amarillo-->
    <div class="cursor2"></div>
    <script>
        const cursor2 = document.querySelector('.cursor2');

        document.addEventListener('mousemove', e => {
            cursor2.setAttribute("style", "top: " + (e.pageY - 1) + "px; left: " + (e.pageX - 2) + "px;")
        })
    </script>

    <!--Cursor Verde-->
    <div class="cursor"></div>

    <script>
        const cursor = document.querySelector('.cursor');

        document.addEventListener('mousemove', e => {
            cursor.setAttribute("style", "top: " + (e.pageY - 1) + "px; left: " + (e.pageX - 2) + "px;")
        })
    </script>


    <!--Barra Men√∫-->
    <div id="header"></div>

    <!-- Secci√≥n: Resumen Error -->
    <section id="resumenError" class="py-5 text-center text-md-start">
        <div class="container py-5">
            <div class="row align-items-center justify-content-center">
                <div class="col-md-6 mb-4 mb-md-0">
                    <div class="img-container mx-auto"
                        style="background-image: url('img/ubuntuDa√±ado.png'); background-size: cover; background-position: center; height: 350px; width: 100%; max-width: 518px; border-radius: 10px;">
                    </div>
                </div>
                <div class="col-md-6 d-flex flex-column justify-content-center px-4">
                    <h2>ERROR <span class="text-danger">404</span></h2>
                    <p class="mt-3 text-justify">
                        Seguramente te ha pasado: haces clic en un enlace y este te redirige autom√°ticamente a una
                        p√°gina que muestra un mensaje
                        que dice que el contenido solicitado no est√° disponible, a menudo como
                        "404 Not Found" o "404 page not found". El error 404 es un
                        c√≥digo de estado HTTP enviado desde el servidor web al navegador.
                    </p>
                    <p>
                        <b><a href="https://www.ionos.es/digitalguide/paginas-web/creacion-de-paginas-web/que-significa-el-error-404-not-found/"
                                target="_blank" class="text-decoration-none">Presiona aqu√≠</a></b>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n: Canal de YouTube -->
    <section id="canalYouTube" class="py-5 text-center text-md-start bg-light">
        <div class="container py-5">
            <div class="row align-items-center justify-content-center flex-column-reverse flex-md-row">
                <div class="col-md-6 d-flex flex-column justify-content-center px-4">
                    <h2>ERROR <span class="text-danger">404</span></h2>
                    <p class="mt-3 text-justify">
                        Puedes visitar mi canal de YouTube si deseas aprender temas nuevos y aprenderemos juntos, te
                        espero.
                        <br><br>See you soon!
                    </p>
                    <p>
                        <b><a href="https://www.youtube.com/@franciscastillosanabria3249" target="_blank"
                                class="text-decoration-none">Visitar canal</a></b>
                    </p>
                </div>
                <div class="col-md-6 mb-4 mb-md-0 text-center">
                    <div class="ratio ratio-16x9">
                        <div class="ratio ratio-16x9">

                        </div>
                        <div class="ratio ratio-16x9" id="youtube-latest"></div>

                        <script>
                            const API_KEY = "AIzaSyCP7MuGIpmSPTK8wumQeTZH74RHRWIA7oI"; // üîë Pega aqu√≠ tu API Key
                            const CHANNEL_ID = "UC42L6_bppE3cWVt0s1_trSA"; // üé• Tu Channel ID real
                            async function getLatestNonShort() {
                                try {
                                    // 1Ô∏è‚É£ Obtener los √∫ltimos 10 videos subidos
                                    const searchResponse = await fetch(
                                        `https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&order=date&part=id&type=video&maxResults=10`
                                    );
                                    const searchData = await searchResponse.json();

                                    if (!searchData.items?.length) {
                                        document.getElementById("youtube-latest").innerHTML = "<p>No se encontraron videos.</p>";
                                        return;
                                    }

                                    // 2Ô∏è‚É£ Tomar todos los IDs de esos videos
                                    const videoIds = searchData.items.map(item => item.id.videoId).join(",");

                                    // 3Ô∏è‚É£ Obtener la duraci√≥n de cada uno
                                    const detailsResponse = await fetch(
                                        `https://www.googleapis.com/youtube/v3/videos?key=${API_KEY}&id=${videoIds}&part=contentDetails`
                                    );
                                    const detailsData = await detailsResponse.json();

                                    // 4Ô∏è‚É£ Filtrar los que duren m√°s de 60 segundos
                                    const validVideos = detailsData.items.filter(video => {
                                        const duration = video.contentDetails.duration;
                                        const seconds = parseDuration(duration);
                                        return seconds > 60;
                                    });

                                    if (!validVideos.length) {
                                        document.getElementById("youtube-latest").innerHTML = "<p>No hay videos largos disponibles.</p>";
                                        return;
                                    }

                                    // 5Ô∏è‚É£ Mostrar el primero que no sea short
                                    const videoId = validVideos[0].id;
                                    document.getElementById("youtube-latest").innerHTML = `
        <iframe 
          src="https://www.youtube.com/embed/${videoId}" 
          title="√öltimo video de YouTube (no Short)"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen>
        </iframe>
      `;
                                } catch (error) {
                                    console.error("Error al obtener el video:", error);
                                    document.getElementById("youtube-latest").innerHTML = "<p>Error al conectar con la API de YouTube.</p>";
                                }
                            }

                            // üîç Funci√≥n para convertir ISO 8601 a segundos
                            function parseDuration(isoDuration) {
                                const match = isoDuration.match(/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/);
                                const hours = parseInt(match[1] || 0);
                                const minutes = parseInt(match[2] || 0);
                                const seconds = parseInt(match[3] || 0);
                                return hours * 3600 + minutes * 60 + seconds;
                            }

                            // üöÄ Ejecutar al cargar la p√°gina
                            getLatestNonShort();
                        </script>

                    </div>
                </div>
            </div>
        </div>
    </section>


    <!--Codigo de audio de fondo-->
    <center>
        <audio autoplay="autoplay" loop="loop" autoplay>
            <source src="audio/C418 - Subwoofer Lullaby - Minecraft Volume Alpha.mp3" type="audio/mpeg">
        </audio>
    </center>
    <!--Final Codigo de esta pagina-->

    <!-- socialMedia -->
    <div id="socialMedia"></div>

    <!-- Footer -->
    <div id="footer"></div>

    <!-- Mi script -->
    <script src="script.js"></script>
    <script defer src="load-components.js"></script>

</body>

</html>